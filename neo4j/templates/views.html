{% extends "base.html" %}
{% block content %}
<h2>Saved Views</h2>
<a href="{{ url_for('views.create') }}">Create new view</a>
<table border="1">
  <thead>
    <tr>
      <th>Name</th>
      <th>Cypher</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for v in views %}
      <tr>
        <td>{{ v.name }}</td>
        <td><pre>{{ v.cypher }}</pre></td>
        <td>
          <a href="{{ url_for('views.run_view', vid=v.id) }}">Run</a> |
          <form action="{{ url_for('views.delete_view', vid=v.id) }}" method="POST" style="display:inline;">
            <button type="submit" onclick="return confirm('Really delete this view?');">Delete</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
