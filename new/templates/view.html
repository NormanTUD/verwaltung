<!DOCTYPE html>
<html>
<head><title>{{ view }}</title></head>
<body>
<h1>{{ view }}</h1>
<table border="1">
  <tr>
    {% for col in columns %}
      <th>{{ col.split(" AS ")[-1] }}</th>
    {% endfor %}
    <th>Actions</th>
  </tr>
  {% for row in rows %}
  <form action="{{ url_for('edit', view=view, row_id=row['id']) }}" method="POST">
  <tr>
    {% for col in columns %}
      <td><input name="{{ col.split(' AS ')[-1] }}" value="{{ row[col.split(' AS ')[-1]] }}"></td>
    {% endfor %}
    <td>
      <button type="submit">Save</button>
      <a href="{{ url_for('delete', view=view, row_id=row['id']) }}">Delete</a>
    </td>
  </tr>
  </form>
  {% endfor %}
</table>

<h3>Add New</h3>
<form action="{{ url_for('add', view=view) }}" method="POST">
  {% for col in columns %}
    <input name="{{ col.split(' AS ')[-1] }}" placeholder="{{ col }}">
  {% endfor %}
  <button type="submit">Add</button>
</form>
</body>
</html>

