{% extends "base.html" %}

{% block title %}Daten-Import{% endblock %}

{% block content %}
    <h1>Daten importieren</h1>

    <div class="preset-buttons">
        <h3>Vordefinierte Daten zum Testen einfügen:</h3>
        <button type="button" onclick="insertDefaultData('person_location')">Personen & Orte</button>
        <button type="button" onclick="insertDefaultData('books_authors')">Bücher & Autoren</button>
    </div>

    <form action="/upload" method="post">
        <label for="data">Füge deine CSV/TSV-Daten hier ein:</label><br>
        <textarea id="data" name="data" rows="10" cols="80" placeholder="z.B.: vorname,nachname,gebäude,abkürzung"></textarea><br>
        <button type="submit">Upload & Zuordnen</button>
    </form>

    <script>
        function insertDefaultData(preset) {
            const textarea = document.getElementById('data');
            let data = '';

            if (preset === 'person_location') {
                data = `vorname,nachname,straße,stadt,plz
Maria,Müller,Hauptstraße 1,Berlin,10115
Hans,Schmidt,Marktplatz 5,Hamburg,20095
Anna,Fischer,Bahnhofsallee 12,München,80331`;
            } else if (preset === 'books_authors') {
                data = `buch_titel,erscheinungsjahr,vorname,nachname
The Cypher Key,2023,Maria,Müller
The Graph Odyssey,2022,Bob,Johnson
Neo's Journey,2024,Charlie,Brown`;
            }

            textarea.value = data.trim();
        }
    </script>
{% endblock %}
